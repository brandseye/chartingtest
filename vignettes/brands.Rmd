---
title: "Finding Brand IDs"
author: "Constance Neeser"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Finding Brand IDs}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

V4 accounts almost always need brand IDs in their filters. 

# Using the Advanced Filter panel

One of the simplest ways of finding brand IDs is to use the filter panel in the app.
Create a filter selecting the brand that you want, and then ask to see the _Advanced Filter_. 
The brand ids will be in the filter, in sections that look like

`brand isorchildof 1234`

Where 1234 will be your specific brand id. 

# Using brandseyer2

There is a simpler way to find brand IDs, using brandseyer2. brandseyer2 should already
be installed. Using brandseyer2, you would ask for a specific account, and then for its
root brands, using the [root_brand()](https://brandseye.github.io/brandseyer2/reference/root_brands.html)
function.


```{r}
library(brandseyer2)         # Load the library

account("TEST01AA") %>%      # Choose the account that you want 
  root_brands()              # Ask for root brands
```

This gives a table of root brand information for the account `TEST01AA`. The `id` column gives the brand ID
for you to use in your filter. The `parent` column gives the ID of the brand's parent brand (for root brands this
will always be `NA`, or "Not Applicable"). `deleted` will indicate whether the brand has been deleted or not,
and `archived` will give a date that the brand was archived, or `NA` if it is unarchived.

By default, `root_brands()` will only show brands that are undeleted and uncharived.

If you want to find a deleted root brand, you can do so with an extra argument:

```{r}
account("TEST01AA") %>% 
  root_brands(includeDeleted = TRUE)
```

And can also include archived brands:

```{r}
account("TEST01AA") %>% 
  root_brands(includeArchived = TRUE)
```

If you want to find brands that are not root brands, you can use 
the [brand()](https://brandseye.github.io/brandseyer2/reference/brands.html) function, like so:

```{r}
account("TEST01AA") %>% 
  brands()
```

For accounts that have many brands, you can view the brands as a table in RStudio, like so

```{r eval=FALSE}
account("TEST01AA") %>% 
  brands() %>% 
  View()   # See in a table view.
```



